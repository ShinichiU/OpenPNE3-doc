====
認証
====

OpenPNE Web API は複数の認証方法をサポートしています。デフォルトでは OAuth が利用できます。また、 OAuth は推奨の認証方法なので、特に事情がない限りこの方法を使ってください。

OpenPNE Web API で使用する認証方法は、管理画面の「プラグイン設定」からアクセスできる、 opWebAPIPlugin の設定ページから設定を変更することができます。

OAuth による認証
================

OAuth は Web アプリケーションのデータを API 経由で扱うためのオープンな認可の規格です。 OAuth を使用して OpenPNE Web API にアクセスするためにはコンシューマの事前の登録が必要です。 OpenPNE の OAuth に関するドキュメントを参照して、コンシューマの登録を済ませてください。

OAuth を使用する方法では、最終的には、OpenPNE Web API へのアクセスの際にアクセス用のトークンも一緒にサーバに送信することで実現できます。 OpenPNE の OAuth ではリクエストパラメータに含める方法と、 Authorization ヘッダに含める方法の 2 種類を提示していますが、 OpenPNE Web API ではリクエスト本文に Atom エントリ文書を含むことがあるため、常にリクエストトークンを Authorization ヘッダに含めるようにすることを強く推奨します。

アクセストークンの指定方法をはじめ、 OAuth による認証の具体的な方法についてはこのドキュメントでは扱いません。 OpenPNE の OAuth に関するドキュメントを一読したうえで、それに従って認証をおこなうようにしてください。

OAuth による認証をおこなったばあい、アクセストークンが誰の認可を得たものかによって API でアクセス可能なリソースが異なります。管理者から認可されたアクセストークンは、 OpenPNE Web API でおこなうことのできるすべての操作を実現できます。また、メンバー画面から認可されたアクセストークンは、そのメンバーが実現可能な操作のみおこなうことができます。

OpenPNE で OAuth を扱う方法については http://sandbox.ebihara.dazai.pne.jp/oauth.en.html を参照してください。

IP アドレスによる認証 (非推奨)
==============================

OpenPNE の管理画面から許可された IP アドレスを持つクライアントからのみ利用できます。

IP アドレスが許可されている場合、クライアントは OpenPNE Web API でおこなうことのできるすべての操作を実行できます。

IP アドレスの許可
-----------------

IP アドレスは、管理画面の「プラグイン設定」からアクセスできる、opWebAPIPlugin の設定ページから許可をおこないます。

デフォルトで許可される IP アドレス
----------------------------------

デフォルトでは、 127.0.0.1 が許可されています。
